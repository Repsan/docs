---
title: "AWS Bedrock"
description: "Use your own AWS credits through Respan"
---

<Accordion title="Set up Respan">
1. **Sign up** — Create an account at [platform.respan.ai](https://platform.respan.ai)
2. **Create an API key** — Generate one on the [API keys page](https://platform.respan.ai/platform/api/api-keys)
3. **Add credits or a provider key** — Add credits on the [Credits page](https://platform.respan.ai/platform/api/credits) or connect your own provider key on the [Integrations page](https://platform.respan.ai/platform/api/integrations)
</Accordion>


<CardGroup cols={1}>
  <Card title="Get AWS Bedrock credentials" icon="key" href="https://console.aws.amazon.com/iam/home#/security_credentials">
    Get your AWS Bedrock credentials from the AWS Console to start using AWS Bedrock models through Respan.
  </Card>
</CardGroup>

## AWS Bedrock models compatibility

<AccordionGroup>
  <Accordion title="✅ Supported Frameworks">
    - [OpenAI SDK](/integrations/gateway/openai/openai-sdk)
    - [LangChain SDK](/integrations/gateway/langchain) 
    - [Vercel/OpenAI](/integrations/gateway/vercel#openai)
    - [Vercel/Google](/integrations/gateway/vercel#google)
    - [LlamaIndex SDK](/integrations/gateway/llama-index)
    - [Google GenAI](/integrations/gateway/google_genai)
    - [Respan native (Otel)](/documentation/getting-started/quickstart/gateway)
  </Accordion>
  
  <Accordion title="❌ Unsupported Frameworks">
    - [Anthropic SDK](/integrations/gateway/anthropic)
    - [Vercel/Anthropic](/integrations/gateway/vercel#anthropic)
  </Accordion>
</AccordionGroup>

## Add AWS Bedrock API keys
There are 2 ways to add your AWS Bedrock credentials to your requests:
### Via UI

<Steps>
<Step title="Go to the Providers page">
Go to [Providers page](https://platform.respan.ai/platform/api/providers)
<Frame>
<img src="https://keywordsai-static.s3.us-east-1.amazonaws.com/docs/settings/providers.jpg" alt="Providers Page"/>
</Frame>
</Step>
<Step title="Add your AWS Bedrock credentials.">

<img height="200" width="300"  src="/images/providers/bedrock.png" alt="Dashboard Page"/>
</Step>
<Step title="(Optional) Choose models you want to use credits">
You can choose the models you want to use your credits with. Just simply type the model ID from the [Models page](https://platform.respan.ai/platform/models) and copy the model id and paste it in the Available models. Press `Enter` to add the model. 

**Leave it empty to apply your credentials for all AWS Bedrock models.**

<img height="200" width="500"  src="/images/providers/bedrock_model.png" alt="Dashboard Page"/>
</Step>
</Steps>

## Add it in code
Add `customer_credentials` parameter in your [request body](/apis/develop/gateway/chat-completions) to use your own AWS Bedrock credits.

```json
{
  // Rest of the request body
  "customer_credentials": {
    "bedrock": {
      "aws_access_key_id": "aws_access_key_id",
      "aws_secret_access_key": "aws_secret_access_key",
      "aws_region_name": "aws_region_name",
    }
  }
}
```

## Override credentials for a particular model. (Optional)
One-off credential overrides. Instead of using what is uploaded for each provider, this targets credentials for individual models.
```json
{
  // Rest of the request body
  "customer_credentials": {
    "bedrock": {
      "aws_access_key_id": "aws_access_key_id",
      "aws_secret_access_key": "aws_secret_access_key",
      "aws_region_name": "aws_region_name",
    }
  },
  "credential_override": {
    "bedrock/anthropic.claude-3-5-sonnet-20240620-v1:0":{ // override for a specific model.
      "aws_access_key_id": "another_aws_access_key_id",
      "aws_secret_access_key": "another_aws_secret_access_key",
      "aws_region_name": "another_aws_region_name",
    }
  }
}
```

## Full request example
<Accordion title="Example">
<CodeGroup>
```python openai_example.py
from openai import OpenAI

client = OpenAI(
    base_url="https://api.respan.ai/api/",
    api_key="YOUR_RESPAN_API_KEY",
)

response = client.chat.completions.create(
    model="gpt-4o",
    messages=[{"role":"user", "content":"Tell me a long story"}],
    extra_body={"customer_credentials": {
                  "bedrock": {
                      "aws_access_key_id": "YOUR_BEDROCK_API_KEY",
                      "aws_secret_access_key": "YOUR_BEDROCK_API_BASE_URL",
                      "aws_region_name": "YOUR_BEDROCK_API_VERSION",
                  }
                }
              }
)
```
```python api_example.py
import requests
def demo_call(input, 
              model="gpt-4o",
              token="YOUR_RESPAN_API_KEY"
              ):
    headers = {
        'Content-Type': 'application/json',
        'Authorization': f'Bearer {token}',
    }

    data = {
        'model': model,
        'messages': [{'role': 'user', 'content': input}],
        'customer_credentials': {
            'bedrock': {
                'aws_access_key_id': "YOUR_BEDROCK_API_KEY",
                'aws_secret_access_key': "YOUR_BEDROCK_API_BASE_URL",
                'aws_region_name': "YOUR_BEDROCK_API_VERSION",
            }
        }
    }

    response = requests.post('https://api.respan.ai/api/chat/completions', headers=headers, json=data)
    return response

messages = "Say 'Hello World'"
print(demo_call(messages).json())
```
</CodeGroup>
</Accordion>

## Requirements
1. Ensure your **deployment name** matches those listed on our [Models page](https://platform.respan.ai/platform/models).
2. Confirm that your models are available in the region specified by your credentials.
<Warning>Credentials validation is not supported. Failure to comply with these requirements will result in errors!</Warning>

### How to get your AWS Bedrock credentials
1. Go to `https://aws.amazon.com/` and click on `Sign In to the Console`.
2. Choose your region and click on `Security credentials` in the top right corner.
3. Click on `Access keys` and then `Create New Access Key`.
4. You will see your `Access key ID` and `Secret access key`. Copy these values and use them in the `aws_access_key_id` and `aws_secret_access_key` fields in the request body.
5. You can find your `aws_region_name` in the URL of the AWS console. For example, if the URL is `https://us-west-2.console.aws.amazon.com/`, then the `aws_region_name` is `us-west-2`.
