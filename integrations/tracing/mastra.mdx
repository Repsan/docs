---
title: "Mastra"
description: "Trace your Mastra AI agents with Respan for workflow visibility."
---

<Accordion title="Set up Respan">
1. **Sign up** — Create an account at [platform.respan.ai](https://platform.respan.ai)
2. **Create an API key** — Generate one on the [API keys page](https://platform.respan.ai/platform/api/api-keys)
3. **Add credits or a provider key** — Add credits on the [Credits page](https://platform.respan.ai/platform/api/credits) or connect your own provider key on the [Integrations page](https://platform.respan.ai/platform/api/integrations)
</Accordion>

## What is Mastra?

[Mastra](https://mastra.ai/) is a TypeScript framework for building AI agents and workflows. This guide shows how to set up Respan tracing with Mastra to monitor your AI-powered applications.

- [Example repo](https://github.com/Repsan/respan-example-projects/tree/main/mastra-ai-weather-agent)

## Setup

<Steps>
<Step title="Install dependencies">

```bash
pnpm install
```

</Step>

<Step title="Set environment variables">

```bash .env.local
OPENAI_API_KEY=your-openai-api-key
RESPAN_API_KEY=your-respan-api-key
RESPAN_BASE_URL=https://api.respan.ai
```

</Step>

<Step title="Configure Mastra with Respan telemetry">

In your Mastra config (e.g. `src/mastra/index.ts`), set the telemetry export to use the Respan exporter:

```typescript src/mastra/index.ts
import { RespanExporter } from "@respan/exporter-vercel";

// Inside your Mastra config
telemetry: {
  serviceName: "respan-mastra-example",
  enabled: true,
  export: {
    type: "custom",
    exporter: new RespanExporter({
      apiKey: process.env.RESPAN_API_KEY,
      baseUrl: process.env.RESPAN_BASE_URL,
      debug: true,
    })
  }
}
```

</Step>

<Step title="Run the project">

```bash
mastra dev
```

This opens the Mastra playground where you can interact with the agent.

</Step>

<Step title="View your trace">

Open the [Traces page](https://platform.respan.ai/platform/traces) in the Respan dashboard.

</Step>
</Steps>

## Observability

With this integration, Respan auto-captures:

- **Agent runs** -- each agent execution as a span
- **LLM calls** -- model, input/output messages, token usage
- **Performance metrics** -- latency per step
- **Errors** -- failed runs and error details

View traces on the [Traces page](https://platform.respan.ai/platform/traces).
